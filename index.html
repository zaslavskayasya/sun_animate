<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Stage1</title>
	<link href="images/favicon.ico" rel="icon" />
	<meta http-equiv="cache-control" content="no-cache" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
	
    <!-- Stylesheet
========================= -->

</head>

<body>
	
<div class="scene_1" >
    <!-- Cloud back -->
    <div class="clouds_back">
        <div class="cload_back"> 

            <picture>
                <source class="cload1"
                  srcset="images/cloudsBack1.png"
                  media="(min-width: 860px)"
                />             
                <img  class="cload1"
                  src="images/clouds_mobile_top.png" 
                  alt="Baby Sleeping"
                />
              </picture>

        </div>       
    </div>

     <!-- moon -->
    <div id="moonWrap">
        <div class="moon_wrap ">
            <img class="moon_img" src="images/moon.png" alt="">
        </div>
    </div>
    <!-- arrow-->
    <div class="arrow-top-wrap"> 
        <img src="images/arrow-down.png" alt="" class="arrow-top">
    </div>

    <div class="arrow-down-wrap"> 
        <img src="images/arrow-up.png" alt="" class="arrow-down">
    </div>

    <!-- sun -->
    <div class="sun-block sun-animate">
		<div class=" sun-block-part light">
			<img src="images/light.png" alt="">
		</div>
			<div class=" sun-block-part rays-rotate ">
				<img class="rays-long sun-elems" src="images/raysall.png" alt="">
			</div>		
		<div class="sun-block-part center">
			<img src="images/center.png" alt="">
		</div>
	</div>

    <div class="extra-light" id="extra-light">
        <img src="images/shine.png" alt="">

    </div>

    <!-- cloud -->
    <div class="clouds_front">
        <div class="cload_back"> 
            <img class="cload3" src="images/cloudsFront2.png" alt="">

            <picture>
                <source class="cload3"
                  srcset="images/cloudsFront2.png"
                  media="(min-width: 860px)"
                />             
                <img  class="cload3"
                  src="images/clouds_mobile_bottom.png" 
                  alt="alt"
                />
            </picture>


        </div>       
    </div>

    <a  href="#" class="skip">
        skip
    </a> 

    <p   id="typo_text" class="logo-link">Celestial</p>
               
</div>

<script>

    // Запуск Луны
    let moon = document.querySelector(".moon_wrap");
    function moon_down_activate() {
        moon.classList.add("moon_down");

    }

    // Запуск Солнца
    let sun = document.querySelector(".sun-block");
    function sun_up_activate() {
        sun.classList.add("sun_up");

    }

    // Рисование стрелки вниз
    let line = document.querySelector(".arrow-top-wrap");
    function draw_line() {
        line.classList.add("draw");
    }

    // Рисование стрелки вниз
    let line2 = document.querySelector(".arrow-down-wrap");
    function draw_line2() {
        line2.classList.add("draw");
    }



    // Логотип

    let logo = document.querySelector(".logo-link");
    function logoShow() {
        logo.classList.add("active");
    }

   
    setTimeout(moon_down_activate, 500); 
    setTimeout(sun_up_activate, 500); 

    setTimeout(draw_line, 600);
    setTimeout(draw_line2, 600);

    setTimeout(logoShow, 600);


    // var moonWrap = document.getElementById('moonWrap');

    // moonWrap.onmousedown = function(e) {

    // var coords = getCoords(moonWrap);
    // var shiftX = e.pageX - coords.left;
    // var shiftY = e.pageY - coords.top;

    // moonWrap.style.position = 'absolute';
    // document.body.appendChild(moonWrap);
    // moveAt(e);

    // moonWrap.style.zIndex = 1000; // над другими элементами

    // function moveAt(e) {
    //     moonWrap.style.left = (e.pageX - shiftX)*2 + 'px';
    //     moonWrap.style.top = e.pageY - shiftY + 'px';
    //     console.log(e.pageX - shiftX)
    // }

    // document.onmousemove = function(e) {
    //     moveAt(e);
    // };

    // moonWrap.onmouseup = function() {
    //     document.onmousemove = null;
    //     moonWrap.onmouseup = null;
    // };

    // }

    // moonWrap.ondragstart = function() {
    // return false;
    // };

    // function getCoords(elem) {   // кроме IE8-
    //     var box = elem.getBoundingClientRect();
    //     // console.log(box.left + pageXOffset)
    //     return {
    //         top: box.top + pageYOffset,
    //         left: box.left + pageXOffset
    //     };
    // }





    // let i = 0;
    // let txt = 'Celestial'; /* Текст */
    // let speed = 80; /* Скорость/длительность эффекта в миллисекундах */

    // function typeWriter() {
    // if (i < txt.length) {
    //         document.getElementById("typo_text").innerHTML += txt.charAt(i);
    //         i++;
    //         setTimeout(typeWriter, speed);
    //     }
    // }

    // setTimeout(typeWriter, 4800);

    let startConnectTrigger = document.getElementById("typo_text");

    let shine = document.getElementById("extra-light");

    startConnectTrigger.addEventListener("click", function(){
        console.log('startAnimation');
        // txt.classList.add("test");
        // txt.classList.add("hide_this_soft");  
        moon.classList.add("moon_center");
        sun.classList.add("sun_center");    
        startConnectTrigger.classList.add("hide_this_soft");  
        line.classList.add("hide_this_soft"); 
        line2.classList.add("hide_this_soft");   
        shine.classList.add("visible");
       


    } )




</script>    



</body>
</html>